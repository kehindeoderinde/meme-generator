# Meme Generator

In this project, I use Python to develop a CLI tool and Flask application to generate memes

## Overview

At a high-level, this program reads data from different file types (CSV, TXT, JSON, PDF), converts that data into structured QuoteModel, combined with images generated by our MemeEngine to generate memes and save to disk path provided.

## Built With

* [Flask](https://github.com/pallets/flask): Simple web server interface
* [Pandas](https://github.com/pandas-dev/pandas): Easy processing meme text from csv files
* [Pillow](https://github.com/python-pillow/Pillow): Image processing to add text

## Getting Started

To get a local copy up and running follow these simple steps.

### Prerequisites

`pdftotext` binary is required and can be installed...
* On Ubuntu 20.04
  ```sh
  sudo apt install poppler-utils
  ```

##Installation

1. Make sure Python is installed on local system.
2. `pdftotext` binary is required and can be installed...
* On Mac using Homebrew
  ```sh
  brew install pkg-config poppler python
  ```
* On Windows (Currently tested only when using conda)
    * Install the Microsoft Visual C++ Build Tools
    * Install poppler through conda:
    ```sh
    conda install -c conda-forge poppler
    ```
3. Install python dependencies
   ```sh
   pip install -r requirements.txt
   ```

## Using the CLI

```sh
$ python main.py --help
usage: main.py [-h] [-p PATH] [-b BODY] [-a AUTHOR]

optional arguments:
  -h, --help            show this help message and exit
  -p PATH, --path PATH  Path to and image file.
  -b BODY, --body BODY  Body or Content written to image.
  -a AUTHOR, --author AUTHOR
                        Author name written to image.
```
Or run the default options **```python main.py```** to create a meme in ```./tmp```

## Using the Flask app
Starting dev server
```sh
$ flask run
 * Serving Flask app
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
```
Once started(using the default port) go to http://127.0.0.1:5000/

## Modules

# Quote Module
This module exposes the `Ingestor` and `QuoteModel` classes. The `Ingestor.parse()` takes in a file path of different file types (CSV, TXT, JSON, PDF) and reads data from them to return a List of `QuoteModel` objects.

Each `QuoteModel` has two properties `body` and `author`.

# Image Module
This module exposes the `ImageEngine` and `ImageModel` classes. The `Ingestor.retrieve_imgs()` takes in a folder path and identifies all images in .JPG or PNG format to return a List of `ImageModel` objects.

Each `ImageModel` has two properties `parent_dir` and `name` which is the filename and its extension.

# Meme Module
This module exposes the `MemeEngine` class. The `MemeEngine` is intitialized by providing a destination folder for our memes to be saved in. 

The `MemeEngine.make_meme()` method takes a few arguments returns a path to the created meme in the folder specified when initializing the `MemeEngine`. These parameters are:
    * `img` - An single `ImageModel` object to be used when creating the meme
    * `body` - A string which will be a body for the meme. There is a limit of 35 characters
    * `author` - A string which will indicate who the author of this meme's body is. There is a limit of 10 characters
    * `width` - (Optional) Width of generated meme image






